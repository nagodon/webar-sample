<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <title>WebAR</title>
        <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
        <script src="https://raw.githack.com/jeromeetienne/AR.js/2.1.4/aframe/build/aframe-ar.js"></script>
        <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v6.0.1/dist/aframe-extras.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script>
            AFRAME.registerComponent('redirect', {
              schema: {
                href: {default: ''}
              },
              init() {
                console.log("init event");
                var data = this.data;
                var el = this.el;
                console.log(this.data);
        
                 this.el.addEventListener('click', function () {
                   console.log("click event");
                   window.location = data.href;
                 })
              }
            });
        </script> 
    </head>
    <body style="margin:0px; overflow:hidden;">
        <a-scene embedded arjs="debugUIEnabled:false; sourceType: webcam;">
            <a-assets>
                <a-asset-item id="3d-obj" src="model.obj"></a-asset-item>
                <a-asset-item id="3d-mtl" src="materials.mtl"></a-asset-item>
            </a-assets>
            <a-marker preset="custom" type="pattern" url="pattern-marker.patt">
                <a-obj-model src="#3d-obj" mtl="#3d-mtl" position="0 0 0" rotation="60 -100 80" scale="1 1 1" redirect="href: https://www.starbucks.co.jp/;"></a-obj-model>
                <a-text value="Starbucks" position="0 0 1" align="center" rotation="-90 0 0" color="#7993ff"></a-text>
            </a-marker>
            <a-entity camera></a-entity>
        </a-scene>
    </body>
</html>
